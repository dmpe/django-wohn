{% extends 'base.html' %}

{% load static %}
{% load staticfiles %}

{% block title %}Dashboard - User profile{% endblock %}

{% block description %}This page has a description.{% endblock %}

{% block robots %}index, follow{% endblock %}

{% block additional_head %}<link rel="stylesheet" href="{% static 'flags/sprite.css' %}">{% endblock %}

{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load countries %}
{% load tz %}

{% block content %}
<div class="container-fluid">

<!-- 
https://github.com/mfogel/django-timezone-field
https://github.com/dmpe/django-wohn/issues/18 
-->
	<div class="row">
        {% include 'nav_sidebar.html' %}

	    <div class="row col-md-9 col-lg-9 col-xl-10 pt-5">
			<div class="col-sm-6 col-md-6 col-lg-6 col-xl-3 pr-2">
		        <img src="{{ gravatar_url }}" alt="My Profile picture" class="rounded">
		    </div>
	        
	        <div class="col-sm-6 col-md-6 col-lg-6 col-xl-9 ">
				<form method="POST" id="form-user-settings" class="mb-5">
				{% csrf_token %}		
					{{ form.non_field_errors | crispy }}
					{{ form.source.errors | crispy }}
					{{ form.source | crispy }}

					<div class="form-row">
						<div class="form-group col-md-3 col-sm-5">
							{{ form.user_gender.label_tag  }}
							{{ form.user_gender.errors  }}
							{{ form.user_gender | add_class:"form-control"}}
						</div>
						<div class="form-group col-md-3 col-sm-5">
							{{ form.first_name.label_tag  }}
							{{ form.first_name.errors  }}							
							{{ form.first_name | add_class:"form-control"}}
						</div>
						<div class="form-group col-md-3 col-sm-5">
							{{ form.last_name.label_tag  }}
							{{ form.last_name.errors  }}
							{{ form.last_name | add_class:"form-control"}}
						</div>
						<div class="form-group col-md-3 col-sm-5">
							{{ form.user_int_tel.label_tag  }}
							{{ form.user_int_tel.errors  }}
							{{ form.user_int_tel | add_class:"form-control"}}
						</div>
						<div class="form-group col-md-3 col-sm-5">
							{{ form.country.label_tag  }}
							{{ form.country.errors  }}
							{{ form.country | add_class:"form-control"}}
						</div>
						<div class="form-group col-md-3 col-sm-5">
							{{ form.user_timezone.label_tag  }}
							{{ form.user_timezone.errors  }}
							{{ form.user_timezone | add_class:"form-control"}}
						</div>										
						<div class="form-group col-md-3 col-sm-5">
							{{ form.user_units_system.label_tag  }}
							{{ form.user_units_system.errors  }}
							{{ form.user_units_system | add_class:"form-control"}}
						</div>								
						<div class="form-group col-md-3 col-sm-5">
							{{ form.inputUsername.label_tag  }}
							{{ form.inputUsername.errors  }}
							{{ form.inputUsername | add_class:"form-control"}}
						</div>										
					</div>
					

					<button type="submit" class="btn btn-warning mb-5 btn-lg btn-block">Save</button>
				</form>

				<form method="POST" id="form-user-email" class="mb-5">
				{% csrf_token %}		
					{{ form.non_field_errors | crispy }}
					{{ form.source.errors | crispy }}
					{{ form.source | crispy }}

						<div class="form-group col-md-3 col-sm-5">
							{{ form.inputEmail.label_tag  }}
							{{ form.inputEmail.errors  }}
							<div class="form-control">
								<input type="" name="" value="{{ user.email }}" readonly="">
							</div>
						</div>	

						<div class="form-group col-md-3 col-sm-5">
							{{ form.inputEmail.label_tag  }}
							{{ form.inputEmail.errors  }}
							{{ form.inputEmail | add_class:"form-control"}}
						</div>					
				</form>
				<form method="POST" id="form-user-password" class="mb-5">
				{% csrf_token %}		
					{{ form.non_field_errors | crispy }}
					{{ form.source.errors | crispy }}
					{{ form.source | crispy }}
						
						<div class="form-group col-md-3 col-sm-5">
							{{ form.inputEmail.label_tag  }}
							{{ form.inputEmail.errors  }}
							{{ form.inputEmail | add_class:"form-control"}}
						</div>
						
						<div class="form-group col-md-3 col-sm-5">
							{{ form.inputNewPassword.label_tag  }}
							{{ form.inputNewPassword.errors  }}
							{{ form.inputNewPassword | add_class:"form-control"}}
						</div>
						<div class="form-group col-md-3 col-sm-5">
							{{ form.inputConfirmNewPassword.label_tag  }}
							{{ form.inputConfirmNewPassword.errors  }}
							{{ form.inputConfirmNewPassword | add_class:"form-control"}}
						</div>						
				</form>				
			</div>





				
				<!--
		        <p>Change currency, because default is CZK</p>
		        <p>Change mt^2 to sq. foot</p> -->
		</div>
	</div>
</div>
{% endblock %}