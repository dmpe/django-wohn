{% extends 'base.html' %}

{% load static %}
{% load staticfiles %}

{% block title %}Dashboard - User profile{% endblock %}

{% block description %}This page has a description.{% endblock %}

{% block robots %}index, follow{% endblock %}

{% block additional_head %}<link rel="stylesheet" href="{% static "flags/sprite.css" %}">{% endblock %}

{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load countries %}
{% load tz %}

{% block content %}
<div class="container-fluid">

<!-- 
https://github.com/mfogel/django-timezone-field
https://github.com/dmpe/django-wohn/issues/18 
-->
	<div class="row">
        {% include 'nav_sidebar.html' %}

	    <div class="row col-md-9 col-lg-9 col-xl-10 pt-5">
			<div class="col-sm-6 col-md-6 col-lg-6 col-xl-3 pr-2">
		        <img src="{{ gravatar_url }}" alt="My Profile picture" class="rounded" style="width:250px;height: 250px;">
		    </div>
	        
	        <div class="col-sm-6 col-md-6 col-lg-6 col-xl-9 ">
				<form>
				{% csrf_token %}
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">First and last name</span>
						</div>
						<input type="text" aria-label="First name" class="form-control" value="{{ user.first_name }}">
						<input type="text" aria-label="Last name" class="form-control" value="{{ user.last_name }}">
					</div>

					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text" id="inputGroup-sizing-default">Telephone</span>
						</div>
						<input type="phone" class="form-control" class="form-control" value="{{ user.user_int_tel }}">
					</div>

					<fieldset class="form-group">
						<div class="row">
							<legend class="col-form-label col-sm-2 pt-0">System of units</legend>
							<div class="col-sm-12">
								<div class="form-check">
									<input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="imperial">
									<label class="form-check-label" for="gridRadios2">
										Imperial (USA centric)
									</label>
								</div>
								<div class="form-check">
									<input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="metric" checked>
									<label class="form-check-label" for="gridRadios1">
										Metric (Rest of the World)
									</label>
								</div>
							</div>
						</div>
					</fieldset>

					<div class="input-group mb-3">						
						<div class="input-group-prepend">
							<label for="inputCountries" class="input-group-text">Your country</label>
						</div>
						{% get_countries as countries %}
						<select class="custom-select" id="inputCountries">
							{% for country in countries %}
								<option value="{{ country.code }}">{{ country.name }}</option>
							{% endfor %}
						</select>
					</div>

					{% get_current_timezone as TIME_ZONE %}
					<div class="input-group mb-3">						
						<div class="input-group-prepend">
							<label for="inputTimezones" class="input-group-text">Website's timezone</label>
						</div>
						<select class="custom-select" id="inputTimezones" name="timezone">
							{% for tz in pytz.common_timezones %}
								<option value="{{ user.user_timezone }}"{% if tz == TIME_ZONE %} selected{% endif %}>{{ user.user_timezone }}</option>
							{% endfor %}
						</select>
					</div>
				</form>						
			





				
				<!--
		        <p>Change currency, because default is CZK</p>
		        <p>Change mt^2 to sq. foot</p> -->
		</div>
	</div>
</div>
{% endblock %}