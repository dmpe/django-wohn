{% extends 'base.html' %}

{% load static %}
{% load staticfiles %}

{% block title %}Dashboard - User profile{% endblock %}

{% block description %}This page has a description.{% endblock %}

{% block robots %}index, follow{% endblock %}

{% block additional_head %}<link rel="stylesheet" href="{% static "flags/sprite.css" %}">{% endblock %}

{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load countries %}
{% load tz %}

{% block content %}
<div class="container-fluid">

<!-- 
https://github.com/mfogel/django-timezone-field
https://github.com/dmpe/django-wohn/issues/18 
-->
	<div class="row">
        {% include 'nav_sidebar.html' %}

	    <div class="row col-md-9 col-lg-9 col-xl-10 pt-5">
			<div class="col-sm-6 col-md-6 col-lg-6 col-xl-3 pr-2">
		        <img src="{{ gravatar_url }}" alt="My Profile picture" class="rounded" style="width:250px;height: 250px;">
		    </div>
	        
	        <div class="col-sm-6 col-md-6 col-lg-6 col-xl-9 ">
				<form>
				{% csrf_token %}					
					<div class="form-row mb-3">
						<div class="col-md-2">
							<label class="mr-2 sr-only" for="inlineFormGenderSelect">Select your gender</label>
							<div class="input-group-prepend">
								<div class="input-group-text">Gender</div>
								<select id="inlineFormGenderSelect">
									<option name="gridRadios" id="gridRadiosMale" value="M" selected>Male</option>
									<option name="gridRadios" id="gridRadiosFemale" value="F">Female</option>
									<option name="gridRadios" id="gridRadiosOther" value="O">Other</option>
								</select>
							</div>							
						</div>
						<div class="col-md-3">
							<input type="text" aria-label="First name" class="form-control" value="{{ user.first_name }}">
						</div>
						<div class="col-md-3">
							<input type="text" aria-label="Last name" class="form-control" value="{{ user.last_name }}">
						</div>
						<div class="col-md-4">
							<label class="mr-2 sr-only" for="inlineFormUnitsSystemSelect">Select your system of units</label>
							<div class="input-group-prepend">
								<div class="input-group-text">System of units</div>
								<select id="inlineFormUnitsSystemSelect">
									<option name="gridRadios" id="gridRadiosImperial" value="Imperial">Imperial (USA)</option>
									<option name="gridRadios" id="gridRadiosMetric" value="Metric" selected>Metric</option>
								</select>
							</div>
						</div>
					</div>

					<div class="input-group mb-3">						
						<div class="input-group-prepend">
							<label for="inputCountries" class="input-group-text">Your country</label>
						</div>
						{% get_countries as countries %}
						<select class="custom-select" id="inputCountries">
							{% for country in countries %}
								<option value="{{ country.code }}">{{ country.name }}</option>
							{% endfor %}
						</select>
					</div>

					<div class="form-row mb-3">
						<div class="col">
							<input type="phone" class="form-control" class="form-control" placeholder="Telephone" value="{{ user.user_int_tel }}">
						</div>
					</div>







					{% get_current_timezone as TIME_ZONE %}
					<div class="input-group mb-3">						
						<div class="input-group-prepend">
							<label for="inputTimezones" class="input-group-text">Website's timezone</label>
						</div>
						<select class="custom-select" id="inputTimezones" name="timezone">
							{% for tz in pytz.common_timezones %}
								<option value="{{ user.user_timezone }}"{% if tz == TIME_ZONE %} selected{% endif %}>{{ user.user_timezone }}</option>
							{% endfor %}
						</select>
					</div>
				</form>						
			





				
				<!--
		        <p>Change currency, because default is CZK</p>
		        <p>Change mt^2 to sq. foot</p> -->
		</div>
	</div>
</div>
{% endblock %}